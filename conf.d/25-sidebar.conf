# ~/.tmux/conf.d/25-sidebar.conf - Persistent session sidebar
# Left pane in every session showing session list (display-only)

# ── Sidebar Settings ──
SIDEBAR_WIDTH=20
SIDEBAR_SCRIPT="~/.tmux/bin/tmux-sidebar"

# ── Session Direct Jump (Alt+1~9, no prefix = GUI tabs) ──
bind -n M-1 run-shell '~/.tmux/bin/tmux-session-jump 1'
bind -n M-2 run-shell '~/.tmux/bin/tmux-session-jump 2'
bind -n M-3 run-shell '~/.tmux/bin/tmux-session-jump 3'
bind -n M-4 run-shell '~/.tmux/bin/tmux-session-jump 4'
bind -n M-5 run-shell '~/.tmux/bin/tmux-session-jump 5'
bind -n M-6 run-shell '~/.tmux/bin/tmux-session-jump 6'
bind -n M-7 run-shell '~/.tmux/bin/tmux-session-jump 7'
bind -n M-8 run-shell '~/.tmux/bin/tmux-session-jump 8'
bind -n M-9 run-shell '~/.tmux/bin/tmux-session-jump 9'
# Cycling: PageUp/PageDown + Alt+Up/Down (follows sidebar display order)
bind -n PageUp run-shell '~/.tmux/bin/tmux-session-cycle up'
bind -n PageDown run-shell '~/.tmux/bin/tmux-session-cycle down'
bind -n M-Up run-shell '~/.tmux/bin/tmux-session-cycle up'
bind -n M-Down run-shell '~/.tmux/bin/tmux-session-cycle down'

# ── Sidebar Resize (prefix + H/L) ──
bind -r H resize-pane -L 3
bind -r L resize-pane -R 3

# ── Sidebar Toggle (prefix + b) ──
bind b run-shell '~/.tmux/bin/tmux-sidebar-toggle'

# ── Auto-create sidebar in new sessions ──
set-hook -g session-created 'run-shell -b "~/.tmux/bin/tmux-sidebar-init"'

# ── Responsive: auto-hide/resize on terminal resize (debounced in script) ──
set-hook -g client-resized 'run-shell -b "~/.tmux/bin/tmux-sidebar-responsive"'
