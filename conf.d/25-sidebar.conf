# ~/.tmux/conf.d/25-sidebar.conf - Persistent session sidebar
# Left pane in every session showing session list (display-only)

# ── Sidebar Settings ──
SIDEBAR_WIDTH=20
SIDEBAR_SCRIPT="~/.tmux/bin/tmux-sidebar"

# ── Session Switching (PgUp/PgDown, no prefix) ──
bind -n PPage switch-client -p
bind -n NPage switch-client -n

# ── Sidebar Resize (prefix + H/L) ──
bind -r H resize-pane -L 3
bind -r L resize-pane -R 3

# ── Sidebar Toggle (prefix + b) ──
bind b run-shell '~/.tmux/bin/tmux-sidebar-toggle'

# ── Auto-create sidebar in new sessions ──
# Hook: when a new session is created, split a sidebar pane
set-hook -g session-created 'run-shell -b "~/.tmux/bin/tmux-sidebar-init"'

# ── Ensure sidebar survives window changes ──
set-hook -g window-linked 'run-shell -b "~/.tmux/bin/tmux-sidebar-ensure"'

# ── Responsive: auto-hide/resize on terminal resize ──
set-hook -g client-resized 'run-shell -b "~/.tmux/bin/tmux-sidebar-responsive"'
