#!/usr/bin/env bash
pane_path="$(tmux display-message -p '#{pane_current_path}')"
cd "$pane_path" 2>/dev/null || exit 0
branch="$(git symbolic-ref --short HEAD 2>/dev/null || git rev-parse --short HEAD 2>/dev/null)"
[[ -z "$branch" ]] && exit 0
dirty=""
git diff --quiet 2>/dev/null || dirty="*"
git diff --cached --quiet 2>/dev/null || dirty="${dirty}+"
echo " ${branch}${dirty}"
